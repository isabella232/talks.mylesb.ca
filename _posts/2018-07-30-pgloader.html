---
layout: post

date: 2018-07-30 18:00

title: pgloader

at:
  name: Toronto Postgres User Group
  type: meetup
  link: https://www.meetup.com/Toronto-Postgres-User-Group/events/252037178/

tags:
  - Postgres
  - pgloader

category: lightning

feature_image: /slides/1.png

source: https://github.com/myles/2018-07-30-pgloader
---

{% include section-header.html title='Slides' %}

<div class="container">
  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/1.png?v={{site.time | date: '%s%N'}}" alt="pgloader - Migrate things into Postgres good">
    </div>

    <div class="col col-sm-6">
      <p>Hi, I'm <a href="https://mylesb.ca/" class="h-card">Myles Braithwaite</a> and tonight I'm going to be talking about pgloader a Postgres utility to loading data from files or migrating a whole database to Postgres.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/2.png?v={{site.time | date: '%s%N'}}" alt="I'm not a DBA">
    </div>

    <div class="col col-sm-6">
      <p>Just so you know, I'm not a DBA.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/3.png?v={{site.time | date: '%s%N'}}" alt="I'm not a DBA">
    </div>

    <div class="col col-sm-6">
      <p>I'm a programmer and a data scientist.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/4.png?v={{site.time | date: '%s%N'}}" alt="GrantMatch">
    </div>

    <div class="col col-sm-6">
      <p>I work for a company called <a href="https://grantmatch.ca/">GrantMatch</a>. We make it easier for companies to manage their funding strategy using a large dataset of funding programs and historical grant approval to match our users with the best available grants for their business.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/5.png?v={{site.time | date: '%s%N'}}" alt="Heroku">
    </div>

    <div class="col col-sm-6">
      <p>The application was being hosted on Digital Ocean, managed by ServerPilot, and deployed with DeployBot. I wanted to migrate to Heroku for simpler management of the application (as I'm the only technical person at the company).</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/6.png?v={{site.time | date: '%s%N'}}" alt="Heroku">
    </div>

    <div class="col col-sm-6">
      <p>Because Heroku has amazing Postgres support I wanted to migrate the MySQL database to Postgres to fit into their ecosystem better.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/7.png?v={{site.time | date: '%s%N'}}" alt="Heroku">
    </div>

    <div class="col col-sm-6">
      <p>So the original title of this talk was going to be, <em>How migrating a MySQL database to Postgres made me really sad</em>.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/8.png?v={{site.time | date: '%s%N'}}" alt="Heroku">
    </div>

    <div class="col col-sm-6">
      <p>I spent a year researching ways on how ot migrate the MySQL database to Postgres. But it seemed like all the projects that existed were outdated and finally gave up.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/9.png?v={{site.time | date: '%s%N'}}" alt="Heroku">
    </div>

    <div class="col col-sm-6">
      <p>But then I found pgloader and all it took was a couple of commands to migrate the database.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/10.png?v={{site.time | date: '%s%N'}}" alt="Heroku">
    </div>

    <div class="col col-sm-6">
      <p>First installation of pgloader is in most major package repositories.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/11.png?v={{site.time | date: '%s%N'}}" alt="Heroku">
    </div>

    <div class="col col-sm-6">
      <p>Then just saying where say where the data is we want to load and what Postgres database we want to load it in.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/12.png?v={{site.time | date: '%s%N'}}" alt="Heroku">
    </div>

    <div class="col col-sm-6">
      <p>It send you back a report of how the data was migrated. and hopefully there were no errors. In my case there wasn't.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/12.png?v={{site.time | date: '%s%N'}}" alt="Heroku">
    </div>

    <div class="col col-sm-6">
      <p>In my case there wasn't. And because we were developing the software using an ORM it took little time to migrate the application.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/13.png?v={{site.time | date: '%s%N'}}" alt="Heroku">
    </div>

    <div class="col col-sm-6">
      <p>In my case there wasn't. And because we were developing the software using an ORM it took little time to migrate the application.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/14.png?v={{site.time | date: '%s%N'}}" alt="Heroku">
    </div>

    <div class="col col-sm-6">
      <p>I followed the author of pgloader, Dimitri's guide to Continuous Migration.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/15.png?v={{site.time | date: '%s%N'}}" alt="Heroku">
    </div>

    <div class="col col-sm-6">
      <p>There is another way I use pgloader.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/16.png?v={{site.time | date: '%s%N'}}" alt="Data Science">
    </div>

    <div class="col col-sm-6"></div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/17.png?v={{site.time | date: '%s%N'}}" alt="Data Science">
    </div>

    <div class="col col-sm-6">
      <p>In data science there is one format:</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/18.png?v={{site.time | date: '%s%N'}}" alt="Data Science">
    </div>

    <div class="col col-sm-6">
      <p>CSV and maybe some Excel files. CSV is great but when the files get large there sometimes is corruption worries.</p>
    </div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/19.png?v={{site.time | date: '%s%N'}}" alt="Data Science">
    </div>

    <div class="col col-sm-6"></div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/20.png?v={{site.time | date: '%s%N'}}" alt="Data Science">
    </div>

    <div class="col col-sm-6"></div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/21.png?v={{site.time | date: '%s%N'}}" alt="Data Science">
    </div>

    <div class="col col-sm-6"></div>
  </div>

  <hr/>

  <div class="row">
    <div class="col col-sm-6">
        <img class="img-fluid" src="{{ page.url }}/slides/22.png?v={{site.time | date: '%s%N'}}" alt="Data Science">
    </div>

    <div class="col col-sm-6"></div>
  </div>
</div>
